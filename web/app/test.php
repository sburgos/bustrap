<?php
/**
 * Created by PhpStorm.
 * User: sebastianburgos
 * Date: 9/11/16
 * Time: 8:11 PM
 */
$json = '[{"id":"1:83a5512d-9f06-4d63-8615-6469be7657ef","code":":G_EM17 - IDA","name":"sin_nombre","lat":-12.010513,"lon":-76.961859},{"id":"1:P1934","code":":P1934","name":"Calle 15","lat":-12.012645,"lon":-76.962813},{"id":"1:P1944","code":":P1944","name":"Calle 14","lat":-12.014742,"lon":-76.963752},{"id":"1:P1997","code":":P1997","name":"Calle 6","lat":-12.01701,"lon":-76.967712},{"id":"1:P2024","code":":P2024","name":"P2024","lat":-12.017845,"lon":-76.969263},{"id":"1:P2060","code":":P2060","name":"P2060","lat":-12.018989,"lon":-76.972082},{"id":"1:P5358","code":":P5358","name":"P5358","lat":-12.019054,"lon":-76.973915},{"id":"1:P2124","code":":P2124","name":"Los Angeles","lat":-12.021707,"lon":-76.975475},{"id":"1:P2135","code":":P2135","name":"Principal","lat":-12.024236,"lon":-76.975976},{"id":"1:4534","code":":4534","name":"Av. Malecon Miguel Checa Eguig","lat":-12.02427,"lon":-76.97807},{"id":"1:P5485","code":":P5485","name":"Av. Malecon Miguel Checa Eguig/Avenida Gran Chimu","lat":-12.025043,"lon":-76.980812},{"id":"1:P2259","code":":P2259","name":"Av. Malecon Miguel Checa Eguig","lat":-12.025412,"lon":-76.982859},{"id":"1:12322","code":":12322","name":"Av. Malecon Miguel Checa Eguig/Gran Pajaten","lat":-12.02601,"lon":-76.98612},{"id":"1:12326","code":":12326","name":"Av. Malecon Miguel Checa Eguig/La Fortaleza","lat":-12.02627,"lon":-76.98768},{"id":"1:12330","code":":12330","name":"Av. Malecon Miguel Checa Eguig","lat":-12.02643,"lon":-76.98971},{"id":"1:12332","code":":12332","name":"Av. Malecon Miguel Checa Eguig/Las Lomas","lat":-12.02649,"lon":-76.99126},{"id":"1:12334","code":":12334","name":"Apo Mayta/Av. Malecon Miguel Checa Eguig","lat":-12.02664,"lon":-76.99539},{"id":"1:12336","code":":12336","name":"Av. Malecon Miguel Checa Eguig","lat":-12.02668,"lon":-76.99618},{"id":"1:P2702","code":":P2702","name":"Av. Malecon Miguel Checa Eguig/Chinchaysuyo","lat":-12.027455,"lon":-76.999814},{"id":"1:GTU1525","code":":GTU1525","name":"AV. JOSE CARLOS MARIATEGUI CON: CA. ARCO IRIS","lat":-12.032246,"lon":-76.998899},{"id":"1:GTU1528","code":":GTU1528","name":"AV. JOSE CARLOS MARIATEGUI CON: AV. FERROCARRIL","lat":-12.034954,"lon":-76.997942},{"id":"1:GTU1530","code":":GTU1530","name":"AV. JOSE CARLOS MARIATEGUI CON: CA. INCAHUASI","lat":-12.037831,"lon":-76.997352},{"id":"1:GTU2269","code":":GTU2269","name":"AV. CESAR VALLEJO CON: PASAJE CENTRAL (ESCALERA NÂº 1069)","lat":-12.040176,"lon":-76.996292},{"id":"1:GTU2271","code":":GTU2271","name":"AV. CESAR VALLEJO CON: CALLE LOS HIGOS","lat":-12.039925,"lon":-76.992496},{"id":"1:GTU2273","code":":GTU2273","name":"AV. CESAR VALLEJO CON: RIO MAJES","lat":-12.039805,"lon":-76.989194},{"id":"1:GTU1759","code":":GTU1759","name":"VIA EVITAMIENTO CON: AV. CESAR VALLEJO","lat":-12.03946,"lon":-76.988368},{"id":"1:P5592","code":":P5592","name":"Cesar Vallejo","lat":-12.039898,"lon":-76.985627},{"id":"1:P5557","code":":P5557","name":"Maria Parado de Bellido","lat":-12.041531,"lon":-76.984186},{"id":"1:P2261","code":":P2261","name":"Maria Parado de Bellido","lat":-12.043715,"lon":-76.983091},{"id":"1:P2240","code":":P2240","name":"Maria Parado de Bellido","lat":-12.045826,"lon":-76.981848},{"id":"1:GTU1082","code":":GTU1082","name":"AV. LOS EUCALIPTOS CON: CA. LOS MOLLES","lat":-12.046466,"lon":-76.977457},{"id":"1:GTU1083","code":":GTU1083","name":"AV. LOS EUCALIPTOS CON: AV. FRANSISCO BOLOGNESI","lat":-12.045077,"lon":-76.974236},{"id":"1:GTU1085","code":":GTU1085","name":"AV. LOS EUCALIPTOS CON: CA. MANUEL DE LA TORRE","lat":-12.044028,"lon":-76.971738},{"id":"1:GTU1105","code":":GTU1105","name":"AV. ANTUNEZ DE MAYOLO CON: CA. LOS ALCANFORES","lat":-12.043903,"lon":-76.969863},{"id":"1:GTU1098","code":":GTU1098","name":"AV. LOS RUISEÃ‘ORES CON: CA. LAS CALANDRIAS","lat":-12.046424,"lon":-76.96875},{"id":"1:GTU1100","code":":GTU1100","name":"AV. LOS RUISEÃ‘ORES CON: CA. LAS TORCAZAS","lat":-12.04836,"lon":-76.967618},{"id":"1:GTU1101","code":":GTU1101","name":"AV. LOS RUISEÃ‘ORES CON: CA. LOS CASCANUECES","lat":-12.051319,"lon":-76.966289},{"id":"1:GTU1104","code":":GTU1104","name":"AV. LOS RUISEÃ‘ORES CON: AV. CARRETERA CENTRAL","lat":-12.054389,"lon":-76.964972},{"id":"1:GTU1552","code":":GTU1552","name":"CARRETERA CENTRAL CON: AV. LA MOLINA","lat":-12.055133,"lon":-76.965085},{"id":"1:P2007","code":":P2007","name":"Av. Los Frutales/Carretera Central","lat":-12.056264,"lon":-76.968199},{"id":"1:3b2e53ca-359c-4784-a621-385ddb291105","code":":G_EM17 - IDA","name":"sin_nombre","lat":-12.0582696,"lon":-76.9673623},{"id":"1:532df51c-0b06-4426-accc-4a71dcdcfdf3","code":":G_EM17 - IDA","name":"sin_nombre","lat":-12.0602752,"lon":-76.9665257},{"id":"1:P5234","code":":P5234","name":"Av. Los Frutales","lat":-12.064411,"lon":-76.964962},{"id":"1:13578","code":":13578","name":"Av. Los Frutales","lat":-12.06731,"lon":-76.96456},{"id":"1:13594","code":":13594","name":"Av. Los Frutales/Las Higueras","lat":-12.06857,"lon":-76.9646},{"id":"1:13606","code":":13606","name":"Av. Los Frutales","lat":-12.07077,"lon":-76.96466},{"id":"1:PGR1433","code":":PGR1433","name":"AV. JAVIER PRADO CON: AV. FRUTALES","lat":-12.075518,"lon":-76.963761},{"id":"1:P5237","code":":P5237","name":"Javier Prado Este","lat":-12.078186,"lon":-76.965127},{"id":"1:GTU1491","code":":GTU1491","name":"AV. JAVIER PRADO CON: FRONTIS CLINICA SAN FELIPE","lat":-12.082453,"lon":-76.968648},{"id":"1:6483","code":":6483","name":"Avenida Las Palmeras","lat":-12.08299,"lon":-76.97035},{"id":"1:P2029","code":":P2029","name":"P2029","lat":-12.083712,"lon":-76.969811},{"id":"1:595c93f4-087e-4526-8b13-8ecd364be8fb","code":":G_EM17 - IDA","name":"sin_nombre","lat":-12.0855671,"lon":-76.9688145},{"id":"1:8a6159cc-0fa9-4126-a61f-9fe2435a9f08","code":":G_EM17 - IDA","name":"sin_nombre","lat":-12.087023,"lon":-76.9672469},{"id":"1:P5265","code":":P5265","name":"Av. El Golf de los Incas","lat":-12.090002,"lon":-76.967064},{"id":"1:14731","code":":14731","name":"Avenida El Polo","lat":-12.09175,"lon":-76.96717},{"id":"1:14725","code":":14725","name":"Avenida El Polo/Golf de los Incas","lat":-12.09385,"lon":-76.96765},{"id":"1:14712","code":":14712","name":"Avenida El Polo/Avenida Encalada","lat":-12.09682,"lon":-76.96985},{"id":"1:P5292","code":":P5292","name":"Avenida Encalada/El Cortijo","lat":-12.098111,"lon":-76.969282},{"id":"1:P5287","code":":P5287","name":"Avenida El Derby/Avenida Encalada/Lima Polo Hunt","lat":-12.098926,"lon":-76.969039},{"id":"1:9963","code":":9963","name":"Avenida Encalada","lat":-12.10301,"lon":-76.97067},{"id":"1:GTU2115","code":":GTU2115","name":"AV. PRIMAVERA CON: AV. LA ENCALADA","lat":-12.109737,"lon":-76.97242},{"id":"1:GTU1213","code":":GTU1213","name":"AV. PRIMAVERA CON: PANAMERICANA SUR","lat":-12.110081,"lon":-76.977859},{"id":"1:PGR1042","code":":PGR1042","name":"AV. PRIMAVERA CON: PANAMERICANA SUR","lat":-12.110117,"lon":-76.9786584},{"id":"1:GTU2113","code":":GTU2113","name":"AV. PRIMAVERA CON: AV. VELASCO ASTETE","lat":-12.110567,"lon":-76.98401},{"id":"1:GTU2114","code":":GTU2114","name":"AV. PRIMAVERA CON: AV. VELASCO ASTETE","lat":-12.110839,"lon":-76.984921},{"id":"1:GTU1242","code":":GTU1242","name":"AV. PRIMAVERA (Via auxiliar intercambio vial) CON: CA. VERONA","lat":-12.111131,"lon":-76.991689},{"id":"1:GTU1238","code":":GTU1238","name":"AV. SAN LUIS CON: AV. ANGAMOS ESTE (Via auxiliar intercambio vial)","lat":-12.111071,"lon":-76.993788},{"id":"1:GTU2112","code":":GTU2112","name":"AV. ANGAMOS ESTE CON: PSJE. F4","lat":-12.111522,"lon":-76.998482},{"id":"1:GTU2110","code":":GTU2110","name":"AV. ANGAMOS ESTE CON: AV. AVIACION","lat":-12.111617,"lon":-76.999805},{"id":"1:GTU2109","code":":GTU2109","name":"AV. ANGAMOS ESTE CON: AV. R. MALACHOWSKY","lat":-12.111866,"lon":-77.003189},{"id":"1:GTU2107","code":":GTU2107","name":"AV. ANGAMOS ESTE CON: CA. EMILIO HARTH","lat":-12.112054,"lon":-77.005864},{"id":"1:GTU2104","code":":GTU2104","name":"AV. ANGAMOS ESTE CON: JR. MIGUEL IGLESIAS","lat":-12.112297,"lon":-77.009279},{"id":"1:GTU2102","code":":GTU2102","name":"AV. ANGAMOS ESTE CON: AV. TOMAS MARSANO","lat":-12.112432,"lon":-77.011628},{"id":"1:GTU2100","code":":GTU2100","name":"AV. ANGAMOS ESTE CON: JR. SAN FELIPE","lat":-12.112756,"lon":-77.016103},{"id":"1:GTU2098","code":":GTU2098","name":"AV. ANGAMOS ESTE CON: AV. REPUBLICA DE PANAMA","lat":-12.11287,"lon":-77.018009},{"id":"1:GTU2099","code":":GTU2099","name":"AV. ANGAMOS ESTE CON: AV. REPUBLICA DE PANAMA","lat":-12.113121,"lon":-77.018728},{"id":"1:GTU2096","code":":GTU2096","name":"AV. ANGAMOS ESTE CON: JR. DANTE ALCOCER","lat":-12.113247,"lon":-77.023036},{"id":"1:GTU2094","code":":GTU2094","name":"AV. ANGAMOS ESTE CON: AV. PASEO DE LA REPUBLICA","lat":-12.113375,"lon":-77.025176},{"id":"1:GTU1598","code":":GTU1598","name":"AV. ANGAMOS ESTE CON: CA. SUAREZ","lat":-12.113559,"lon":-77.027151},{"id":"1:GTU1596","code":":GTU1596","name":"AV. ANGAMOS ESTE CON: AV. AREQUIPA","lat":-12.113664,"lon":-77.029464},{"id":"1:GTU1594","code":":GTU1594","name":"AV. ANGAMOS OESTE CON: CA. GRAL. BORGOÃ‘O","lat":-12.1138,"lon":-77.033246},{"id":"1:GTU1592","code":":GTU1592","name":"AV. ANGAMOS OESTE CON: AV. CMTE. ESPINAR","lat":-12.113923,"lon":-77.03678},{"id":"1:GTU1590","code":":GTU1590","name":"AV. ANGAMOS OESTE CON: AV. SANTA CRUZ","lat":-12.114054,"lon":-77.03962},{"id":"1:GTU2085","code":":GTU2085","name":"AV. SANTA CRUZ CON: CA. MENDIBURO","lat":-12.117702,"lon":-77.042236},{"id":"1:GTU259","code":":GTU259","name":"AV. DEL EJERCITO CON: PZA. CENTROAMERICA","lat":-12.118749,"lon":-77.043124},{"id":"1:GTU229","code":":GTU229","name":"AV. JOSE PARDO CON: CA. COMANDANTE MOORE (PZA. M. BARROS)","lat":-12.119067,"lon":-77.040533},{"id":"1:GTU500","code":":GTU500","name":"AV. JOSE PARDO CON: AV. COMANDANTE ESPINAR","lat":-12.119069,"lon":-77.037242},{"id":"1:GTU228","code":":GTU228","name":"AV. JOSE PARDO CON: CA. ELIAS AGUIRRE","lat":-12.119122,"lon":-77.034862},{"id":"1:GTU501","code":":GTU501","name":"AV. JOSE PARDO CON: CA. LIBERTAD","lat":-12.119137,"lon":-77.032951},{"id":"1:GTU226","code":":GTU226","name":"AV. JOSE PARDO CON: AV. OSCAR BENAVIDES (PQUE. KENNEDY)","lat":-12.119165,"lon":-77.029509},{"id":"1:GTU2093","code":":GTU2093","name":"AV. OSCAR R. BENAVIDES (EX DIAGONAL) CON: CDA. JUAN FIGARI","lat":-12.122012,"lon":-77.031175},{"id":"1:GTU155","code":":GTU155","name":"AV. ALFREDO BENAVIDES CON: AV. LARCO","lat":-12.124567,"lon":-77.029503},{"id":"1:GTU156","code":":GTU156","name":"AV. ALFREDO BENAVIDES CON: CA. LA PAZ","lat":-12.124924,"lon":-77.026763},{"id":"1:GTU158","code":":GTU158","name":"AV. ALFREDO BENAVIDES CON: AV. PASEO DE LA REPUBLICA","lat":-12.125325,"lon":-77.024587},{"id":"1:GTU160","code":":GTU160","name":"AV. ALFREDO BENAVIDES CON: CA. DE LA FUENTE","lat":-12.125841,"lon":-77.021308},{"id":"1:GTU161","code":":GTU161","name":"AV. ALFREDO BENAVIDES CON: AV. REPUBLICA DE PANAMA","lat":-12.126309,"lon":-77.018345},{"id":"1:GTU163","code":":GTU163","name":"AV. ALFREDO BENAVIDES CON: AV. GRAL. MONTAGNE","lat":-12.127139,"lon":-77.013062},{"id":"1:GTU1038","code":":GTU1038","name":"AV. ALFREDO BENAVIDES CON: LA MERCED","lat":-12.127664,"lon":-77.009717},{"id":"1:GTU1621","code":":GTU1621","name":"AV. ALFREDO BENAVIDES CON: PSJ.A","lat":-12.127987,"lon":-77.007705},{"id":"1:GTU490","code":":GTU490","name":"AV. ALFREDO BENAVIDES CON: ENTRE CA. SOR MATE Y CALLE 04","lat":-12.128279,"lon":-77.005935},{"id":"1:GTU167","code":":GTU167","name":"AV. ALFREDO BENAVIDES CON: AV. AVIACION (OV. LOS CABITOS)","lat":-12.128945,"lon":-77.001737},{"id":"1:GTU9","code":":GTU9","name":"AV. TOMAS MARSANO CON: OVALO LOS CABITOS (VIAS AUXILIARES)","lat":-12.129198,"lon":-77.000507},{"id":"1:GTU169","code":":GTU169","name":"AV. ALFREDO BENAVIDES CON: CA. GALEANO","lat":-12.128542,"lon":-76.997786},{"id":"1:GTU489","code":":GTU489","name":"AV. ALFREDO BENAVIDES CON: AV. AYACUCHO","lat":-12.128228,"lon":-76.993077},{"id":"1:GTU171","code":":GTU171","name":"AV. ALFREDO BENAVIDES CON: AV. HIGUERETA","lat":-12.128061,"lon":-76.991594},{"id":"1:GTU173","code":":GTU173","name":"AV. ALFREDO BENAVIDES CON: AV. VELASCO ASTETE","lat":-12.12788,"lon":-76.987731},{"id":"1:GTU175","code":":GTU175","name":"AV. ALFREDO BENAVIDES CON: CA. BATALLON CALLAO","lat":-12.128563,"lon":-76.985231},{"id":"1:GTU177","code":":GTU177","name":"AV. ALFREDO BENAVIDES CON: CA. ARTESANOS","lat":-12.129574,"lon":-76.982509},{"id":"1:GTU179","code":":GTU179","name":"AV. ALFREDO BENAVIDES CON: PANAMERICANA SUR","lat":-12.130923,"lon":-76.978935},{"id":"1:GTU1795","code":":GTU1795","name":"AV. PANAMERICANA SUR CON: JR. BATALLA DE SAN JUAN","lat":-12.127626,"lon":-76.976813},{"id":"1:GTU1793","code":":GTU1793","name":"AV. PANAMERICANA SUR CON: CA. LAS LILAS","lat":-12.122454,"lon":-76.976875},{"id":"1:GTU1791","code":":GTU1791","name":"AV. PANAMERICANA SUR CON: JR. LAS GARDENIAS","lat":-12.119604,"lon":-76.97696},{"id":"1:P5407","code":":P5407","name":"Panamericana Sur","lat":-12.117516,"lon":-76.977077},{"id":"1:GTU1789","code":":GTU1789","name":"AV. PANAMERICANA SUR CON: INTERCAMBIO VIAL PRIMAVERA","lat":-12.110858,"lon":-76.97798},{"id":"1:P2146","code":":P2146","name":"Angamos oeste","lat":-12.110107,"lon":-76.97665},{"id":"1:4931","code":":4931","name":"Angamos oeste/Pucala","lat":-12.11004,"lon":-76.97494},{"id":"1:e687acce-889e-4e40-8ad1-9f81eb8810a6","code":":G_EM17 - IDA","name":"sin_nombre","lat":-12.1098217,"lon":-76.9727469},{"id":"1:P2036","code":":P2036","name":"Avenida Encalada","lat":-12.10562,"lon":-76.970997},{"id":"1:9967","code":":9967","name":"Avenida Encalada","lat":-12.1041,"lon":-76.97044},{"id":"1:P2032","code":":P2032","name":"Avenida Encalada","lat":-12.101686,"lon":-76.970191},{"id":"1:P2028","code":":P2028","name":"Avenida Encalada","lat":-12.100119,"lon":-76.969551},{"id":"1:9954","code":":9954","name":"Avenida El Derby/Avenida El Polo","lat":-12.09875,"lon":-76.97069},{"id":"1:9951","code":":9951","name":"Avenida El Derby/Avenida Manuel Olguin","lat":-12.09801,"lon":-76.97335},{"id":"1:P2097","code":":P2097","name":"Avenida Manuel Olguin/EL CORTIJO","lat":-12.095748,"lon":-76.973654},{"id":"1:8aaadc90-2de0-4a5b-87ee-f365010e9731","code":":G_EM17 - IDA","name":"sin_nombre","lat":-12.0936012,"lon":-76.9739622},{"id":"1:a8e7ad83-7b8f-413c-9d22-4bbf6cfa1318","code":":G_EM17 - IDA","name":"sin_nombre","lat":-12.0914417,"lon":-76.973794},{"id":"1:ebe14555-9c2b-4107-a472-cfdadf84272c","code":":G_EM17 - IDA","name":"sin_nombre","lat":-12.0892816,"lon":-76.9736052},{"id":"1:PGR1427","code":":PGR1427","name":"AV. JAVIER PRADO CON: AV. MANUEL OLGUIN","lat":-12.084013,"lon":-76.973366},{"id":"1:GTU1489","code":":GTU1489","name":"AV. JAVIER PRADO CON: OV. MONITOR HUASCAR","lat":-12.083683,"lon":-76.970771},{"id":"1:GTU1492","code":":GTU1492","name":"AV. JAVIER PRADO CON: CA. LOS CEIBOS","lat":-12.07979,"lon":-76.966047},{"id":"1:GTU1495","code":":GTU1495","name":"AV. JAVIER PRADO CON: AV. FRUTALES","lat":-12.075229,"lon":-76.963406},{"id":"1:GTU1496","code":":GTU1496","name":"AV. JAVIER PRADO CON: CA. LOS MEMBRILLOS","lat":-12.073723,"lon":-76.961318},{"id":"1:GTU1498","code":":GTU1498","name":"AV. JAVIER PRADO CON: AV. LA MOLINA","lat":-12.07164,"lon":-76.956862},{"id":"1:GTU1048","code":":GTU1048","name":"AV. LA MOLINA CON: AV. LA FONTANA","lat":-12.073548,"lon":-76.95568},{"id":"1:GTU1050","code":":GTU1050","name":"AV. LA MOLINA CON: ALAMEDA DEL CORREGIDOR","lat":-12.076277,"lon":-76.954599},{"id":"1:GTU1875","code":":GTU1875","name":"AV. ALAMEDA DEL CORREGIDOR CON: AV. LA UNIVERSIDAD","lat":-12.077446,"lon":-76.95426},{"id":"1:GTU1876","code":":GTU1876","name":"AV. ALAMEDA DEL CORREGIDOR CON: CA. LAS AMAPOLAS","lat":-12.081318,"lon":-76.95595},{"id":"1:GTU1878","code":":GTU1878","name":"AV. ALAMEDA DEL CORREGIDOR CON: CA. LAS TIPUANAS","lat":-12.086199,"lon":-76.957181},{"id":"1:GTU1879","code":":GTU1879","name":"AV. ALAMEDA DEL CORREGIDOR CON: JR. LOS CRISANTEMOS","lat":-12.087927,"lon":-76.955471},{"id":"1:GTU1881","code":":GTU1881","name":"AV. ALAMEDA DEL CORREGIDOR CON: CA. LOS SAUCES","lat":-12.088697,"lon":-76.954749},{"id":"1:GTU1882","code":":GTU1882","name":"AV. ALAMEDA DEL CORREGIDOR CON: AV. RAUL FERRERO","lat":-12.091473,"lon":-76.953336},{"id":"1:GTU1885","code":":GTU1885","name":"AV. ALAMEDA DEL CORREGIDOR CON: CA. LOS DATILEROS","lat":-12.093541,"lon":-76.952805},{"id":"1:GTU1886","code":":GTU1886","name":"AV. ALAMEDA DEL CORREGIDOR CON: CA. LA ARBOLEDA","lat":-12.095307,"lon":-76.952225},{"id":"1:GTU1888","code":":GTU1888","name":"AV. ALAMEDA DEL CORREGIDOR CON: JR. VISITADOR","lat":-12.097778,"lon":-76.951186},{"id":"1:GTU1890","code":":GTU1890","name":"AV. ALAMEDA DEL CORREGIDOR CON: CA. EL MONTE","lat":-12.099783,"lon":-76.950303},{"id":"1:GTU1891","code":":GTU1891","name":"AV. ALAMEDA DEL CORREGIDOR CON: CA. EL CAMINO","lat":-12.102057,"lon":-76.949152},{"id":"1:GTU1892","code":":GTU1892","name":"AV. ALAMEDA DEL CORREGIDOR CON: AV. LOS CONDORES","lat":-12.10384,"lon":-76.94813},{"id":"1:GTU1894","code":":GTU1894","name":"AV. ALAMEDA DEL CORREGIDOR CON: CA. ALICANTE","lat":-12.106231,"lon":-76.946748},{"id":"1:GTU1896","code":":GTU1896","name":"AV. ALAMEDA DEL CORREGIDOR CON: AV. CASTILLA LA NUEVA","lat":-12.107893,"lon":-76.944563},{"id":"1:GTU1897","code":":GTU1897","name":"AV. ALAMEDA DEL CORREGIDOR CON: CA. BADAJOZ","lat":-12.1094,"lon":-76.943304},{"id":"1:GTU1899","code":":GTU1899","name":"AV. ALAMEDA DEL CORREGIDOR CON: CA. VOLCAN SOLIMANA","lat":-12.113584,"lon":-76.941121},{"id":"1:GTU1902","code":":GTU1902","name":"AV. ALAMEDA DEL CORREGIDOR CON: CA. RIO AMARILLO","lat":-12.116047,"lon":-76.939653},{"id":"1:GTU1904","code":":GTU1904","name":"AV. ALAMEDA DEL CORREGIDOR CON: AV. LOS FRESNOS","lat":-12.113749,"lon":-76.936222}]';

$ruta = json_decode($json, true);

$jsonRuta = [];
foreach($ruta as $r)
{
    $jsonRuta[] = [
        'lat' => $r['lat'],
        'lng' => $r['lon'],
    ];
}

?>

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Simple Polylines</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        #map {
            height: 100%;
        }
    </style>
</head>
<body>
<div id="map"></div>
<script>

    // This example creates a 2-pixel-wide red polyline showing the path of William
    // Kingsford Smith's first trans-Pacific flight between Oakland, CA, and
    // Brisbane, Australia.

    function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 3,
            center: {lat: 0, lng: -180},
            mapTypeId: google.maps.MapTypeId.TERRAIN
        });

        var flightPlanCoordinates = <?= json_encode($jsonRuta) ?>;
        var flightPath = new google.maps.Polyline({
            path: flightPlanCoordinates,
            geodesic: true,
            strokeColor: '#FF0000',
            strokeOpacity: 1.0,
            strokeWeight: 2
        });

        flightPath.setMap(map);
    }

</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAVN07EXkJ1KIKGJUE5TtB8Yixj4NX0JcE&signed_in=true&callback=initMap"></script>
</body>
</html>
